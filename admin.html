<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>관리자 페이지</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/admin.css" />
    </head>
    <body>
        <!-- 로그인 페이지 -->
        <div id="loginPage" class="page active">
            <div class="login-container">
                <h1>관리자 로그인</h1>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">아이디</label>
                        <input
                            type="text"
                            id="username"
                            required
                            placeholder="admin"
                            autocomplete="username"
                        />
                    </div>
                    <div class="form-group">
                        <label for="password">비밀번호</label>
                        <input
                            type="password"
                            id="password"
                            required
                            placeholder="비밀번호"
                            autocomplete="current-password"
                        />
                    </div>
                    <button type="submit" class="btn-primary">로그인</button>
                    <div id="loginMessage" class="message"></div>
                </form>
            </div>
        </div>

        <!-- 관리자 대시보드 -->
        <div id="dashboardPage" class="page">
            <div class="dashboard-container">
                <header class="dashboard-header">
                    <div>
                        <h1>관리자 대시보드</h1>
                        <!-- 지역 선택 (메인만 운영 - 나머지 지역 주석처리) -->
                        <!-- <div class="region-selector">
                            <label for="regionSelect">지역:</label>
                            <select id="regionSelect" class="region-select">
                                <option value="seoul">서울</option>
                                <option value="incheon">인천</option>
                                <option value="suwon">수원</option>
                                <option value="daegu">대구</option>
                                <option value="busan">부산</option>
                                <option value="ulsan">울산</option>
                                <option value="gwangju">광주</option>
                                <option value="jeju">제주</option>
                            </select>
                        </div> -->
                    </div>
                    <button id="logoutBtn" class="btn-secondary">
                        로그아웃
                    </button>
                </header>

                <nav class="dashboard-nav">
                    <button class="nav-btn active" data-tab="submissions">
                        신청 내역
                    </button>
                    <button class="nav-btn" data-tab="dates">날짜 관리</button>
                    <button class="nav-btn" data-tab="blocked">
                        차단 관리
                    </button>
                    <button class="nav-btn" data-tab="images">
                        이미지 관리
                    </button>
                    <button class="nav-btn" data-tab="email">
                        📧 이메일 설정
                    </button>
                </nav>

                <!-- 신청 내역 탭 -->
                <div id="submissionsTab" class="tab-content active">
                    <div class="section-header">
                        <h2>신청 내역</h2>
                        <div class="header-buttons">
                            <button id="downloadExcelBtn" class="btn-success">
                                📥 엑셀 다운로드
                            </button>
                            <button id="refreshBtn" class="btn-secondary">
                                새로고침
                            </button>
                        </div>
                    </div>

                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-number" id="totalCount">0</div>
                            <div class="stat-label">총 신청 수</div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="submissionsTable">
                            <thead>
                                <tr>
                                    <th>번호</th>
                                    <th>이름</th>
                                    <th>연락처</th>
                                    <th>참가일자</th>
                                    <th>신청일시</th>
                                    <th>작업</th>
                                </tr>
                            </thead>
                            <tbody id="submissionsBody">
                                <tr>
                                    <td colspan="6" class="loading">
                                        데이터를 불러오는 중...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 날짜 관리 탭 -->
                <div id="datesTab" class="tab-content">
                    <div class="section-header">
                        <h2>날짜 관리</h2>
                        <button id="saveDatesBtn" class="btn-primary">
                            저장
                        </button>
                    </div>

                    <div class="dates-editor">
                        <p class="info-text">
                            날짜를 추가하거나 활성화/비활성화할 수 있습니다.
                        </p>
                        <div id="datesList" class="dates-list"></div>
                        <button id="addDateBtn" class="btn-secondary">
                            + 날짜 추가
                        </button>
                    </div>

                    <div id="datesMessage" class="message"></div>
                </div>

                <!-- 차단 관리 탭 -->
                <div id="blockedTab" class="tab-content">
                    <div class="section-header">
                        <h2>차단 관리</h2>
                    </div>

                    <div class="blocked-section">
                        <div class="add-blocked-form">
                            <h3>차단 추가</h3>
                            <div class="form-row">
                                <input
                                    type="tel"
                                    id="blockedPhone"
                                    placeholder="010-1234-5678"
                                    class="blocked-input"
                                />
                                <input
                                    type="text"
                                    id="blockedReason"
                                    placeholder="차단 사유 (선택)"
                                    class="blocked-input"
                                />
                                <button id="addBlockedBtn" class="btn-primary">
                                    차단 추가
                                </button>
                            </div>
                        </div>

                        <div class="stats-container">
                            <div class="stat-card">
                                <div class="stat-number" id="blockedCount">
                                    0
                                </div>
                                <div class="stat-label">차단된 번호</div>
                            </div>
                        </div>

                        <div class="table-container">
                            <table id="blockedTable">
                                <thead>
                                    <tr>
                                        <th>번호</th>
                                        <th>전화번호</th>
                                        <th>차단 사유</th>
                                        <th>차단일시</th>
                                        <th>관리</th>
                                    </tr>
                                </thead>
                                <tbody id="blockedBody">
                                    <tr>
                                        <td colspan="5" class="loading">
                                            데이터를 불러오는 중...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="blockedMessage" class="message"></div>
                </div>

                <!-- 이미지 관리 탭 -->
                <div id="imagesTab" class="tab-content">
                    <div class="section-header">
                        <h2>이미지 관리</h2>
                        <button id="saveImagesBtn" class="btn-primary">
                            저장
                        </button>
                    </div>

                    <div class="images-editor">
                        <div class="image-section">
                            <h3>PC 이미지 (권장: 1920px 너비)</h3>

                            <!-- 파일 업로드 -->
                            <div class="upload-section">
                                <input
                                    type="file"
                                    id="pcFileInput"
                                    accept="image/*"
                                    style="display: none"
                                />
                                <button
                                    class="btn-upload"
                                    onclick="document.getElementById('pcFileInput').click()"
                                >
                                    📤 PC 이미지 업로드
                                </button>
                                <div
                                    id="pcUploadStatus"
                                    class="upload-status"
                                ></div>
                            </div>

                            <div id="pcImagesList" class="images-list"></div>
                            <button
                                class="btn-secondary add-image-btn"
                                data-type="pc"
                            >
                                + URL로 추가
                            </button>
                        </div>

                        <div class="image-section">
                            <h3>모바일 이미지 (권장: 768px 너비)</h3>

                            <!-- 파일 업로드 -->
                            <div class="upload-section">
                                <input
                                    type="file"
                                    id="mobileFileInput"
                                    accept="image/*"
                                    style="display: none"
                                />
                                <button
                                    class="btn-upload"
                                    onclick="document.getElementById('mobileFileInput').click()"
                                >
                                    📤 모바일 이미지 업로드
                                </button>
                                <div
                                    id="mobileUploadStatus"
                                    class="upload-status"
                                ></div>
                            </div>

                            <div
                                id="mobileImagesList"
                                class="images-list"
                            ></div>
                            <button
                                class="btn-secondary add-image-btn"
                                data-type="mobile"
                            >
                                + URL로 추가
                            </button>
                        </div>
                    </div>

                    <div id="imageMessage" class="message"></div>
                </div>

                <!-- 이메일 설정 탭 -->
                <div id="emailTab" class="tab-content">
                    <div class="section-header">
                        <h2>이메일 알림 설정</h2>
                        <button id="saveEmailBtn" class="btn-primary">
                            저장
                        </button>
                    </div>

                    <div class="email-settings-container">
                        <div class="form-group">
                            <label for="emailEnabled" class="switch-label">
                                <span>이메일 알림 사용</span>
                                <label class="switch">
                                    <input type="checkbox" id="emailEnabled" />
                                    <span class="slider round"></span>
                                </label>
                            </label>
                            <p class="help-text">
                                활성화하면 신청 접수 시 자동으로 이메일이
                                발송됩니다.
                            </p>
                        </div>

                        <div class="form-group">
                            <label for="emailTo"
                                >받는 사람 이메일
                                <span class="required">*</span></label
                            >
                            <input
                                type="text"
                                id="emailTo"
                                placeholder="admin@example.com, manager@example.com"
                                class="form-input"
                            />
                            <p class="help-text">
                                여러 개의 이메일 주소는 쉼표(,)로 구분하세요.
                            </p>
                        </div>

                        <div class="form-group">
                            <label for="emailSubject">이메일 제목</label>
                            <input
                                type="text"
                                id="emailSubject"
                                placeholder="[허니문박람회] 새로운 신청이 접수되었습니다"
                                class="form-input"
                            />
                        </div>

                        <div class="info-box">
                            <h4>이메일 내용 미리보기</h4>
                            <pre class="email-preview">
━━━━━━━━━━━━━━━━━━━━━━━━━
📝 신청 정보
━━━━━━━━━━━━━━━━━━━━━━━━━

👤 성함: 홍길동
📞 연락처: 010-1234-5678
📅 참가일자: 1월3일(토)
🌏 지역: 서울
⏰ 신청시간: 2026-01-19 15:30:25

━━━━━━━━━━━━━━━━━━━━━━━━━
관리자 페이지에서 확인하기:
http://honeyfair.co.kr/admin.html
━━━━━━━━━━━━━━━━━━━━━━━━━</pre
                            >
                        </div>

                        <div class="button-group">
                            <button id="testEmailBtn" class="btn-secondary">
                                테스트 이메일 발송
                            </button>
                        </div>
                    </div>

                    <div id="emailMessage" class="message"></div>
                </div>
            </div>
        </div>

        <script src="/admin.js"></script>
    </body>
</html>
